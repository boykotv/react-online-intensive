{"remainingRequest":"/home/akartamyshev/Work/TiTanya/React - my - Facebook/react-online-intensive/node_modules/babel-loader/lib/index.js??ref--4-1!/home/akartamyshev/Work/TiTanya/React - my - Facebook/react-online-intensive/source/components/Like/index.js","dependencies":[{"path":"/home/akartamyshev/Work/TiTanya/React - my - Facebook/react-online-intensive/source/components/Like/index.js","mtime":1543777646547},{"path":"/home/akartamyshev/Work/TiTanya/React - my - Facebook/react-online-intensive/.babelrc.js","mtime":1543190808333},{"path":"/home/akartamyshev/Work/TiTanya/React - my - Facebook/react-online-intensive/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/akartamyshev/Work/TiTanya/React - my - Facebook/react-online-intensive/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var _class,_class2,_temp;(function(){var enterModule=require('react-hot-loader').enterModule;enterModule&&enterModule(module);})();// Core\nimport React,{Component}from'react';import{func,string,arrayOf,shape}from'prop-types';import cx from'classnames';//Components\nimport{withProfile}from'components/HOC/withProfile';//Instruments\nimport Styles from'./styles.m.css';let Like=withProfile(_class=(_temp=_class2=class Like extends Component{constructor(...args){super(...args);this.state={showLikers:false};this._showLikers=()=>{this.setState({showLikers:true});};this._hideLikers=()=>{this.setState({showLikers:false});};this._likePost=()=>{const{_likePost,id}=this.props;_likePost(id);};this._getLikesByMe=()=>{const{currentUserFirstName,currentUserLastName,likes}=this.props;return likes.some(({firstName,lastName})=>{return`${firstName} ${lastName}`===`${currentUserFirstName} ${currentUserLastName}`;});};this._getLikesStyle=()=>{const likedByMe=this._getLikesByMe();return cx(Styles.icon,{[Styles.liked]:likedByMe});};this._getLikersList=()=>{const{showLikers}=this.state;const{likes}=this.props;const likesJSX=likes.map(({firstName,lastName,id})=>React.createElement(\"li\",{key:id},\" \",`${firstName} ${lastName}`,\" \"));return likes.length&&showLikers?React.createElement(\"ul\",null,likesJSX):null;};this._getLikesDescription=()=>{const{likes,currentUserFirstName,currentUserLastName}=this.props;const likedByMe=this._getLikesByMe();if(likes.length===1&&likedByMe){return`${currentUserFirstName} ${currentUserLastName}`;}else if(likes.length===2&&likedByMe){return`You and ${likes.length-1} other`;}else if(likedByMe){return`You and ${likes.length-1} others`;}return likes.length;};}render(){const likeStyles=this._getLikesStyle();const likersList=this._getLikersList();const likesDescription=this._getLikesDescription();return React.createElement(\"section\",{className:Styles.like},React.createElement(\"span\",{className:likeStyles,onClick:this._likePost},\"Like\"),React.createElement(\"div\",null,likersList,React.createElement(\"span\",{onMouseEnter:this._showLikers,onMouseLeave:this._hideLikers},likesDescription)));}// @ts-ignore\n__reactstandin__regenerateByEval(key,code){// @ts-ignore\nthis[key]=eval(code);}},_class2.propTypes={_likePost:func.isRequired,id:string.isRequired,likes:arrayOf(shape({id:string.isRequired,firstName:string.isRequired,lastName:string.isRequired})).isRequired},_temp))||_class;export{Like as default};;(function(){var reactHotLoader=require('react-hot-loader').default;var leaveModule=require('react-hot-loader').leaveModule;if(!reactHotLoader){return;}reactHotLoader.register(Like,\"Like\",\"/home/akartamyshev/Work/TiTanya/React - my - Facebook/react-online-intensive/source/components/Like/index.js\");leaveModule(module);})();;",{"version":3,"sources":["/home/akartamyshev/Work/TiTanya/React - my - Facebook/react-online-intensive/source/components/Like/index.js"],"names":["React","Component","func","string","arrayOf","shape","cx","withProfile","Styles","Like","state","showLikers","_showLikers","setState","_hideLikers","_likePost","id","props","_getLikesByMe","currentUserFirstName","currentUserLastName","likes","some","firstName","lastName","_getLikesStyle","likedByMe","icon","liked","_getLikersList","likesJSX","map","length","_getLikesDescription","render","likeStyles","likersList","likesDescription","like","propTypes","isRequired"],"mappings":"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","sourcesContent":["// Core\nimport React, { Component } from 'react';\nimport {func, string, arrayOf, shape} from 'prop-types';\nimport cx from 'classnames';\n\n//Components\nimport { withProfile } from 'components/HOC/withProfile';\n\n//Instruments\nimport Styles from './styles.m.css';\n\n@withProfile\nexport default class Like extends Component {\n    static propTypes = {\n        _likePost: func.isRequired,\n        id:        string.isRequired,        \n        likes:     arrayOf(\n            shape({\n                id:        string.isRequired,\n                firstName: string.isRequired,\n                lastName:  string.isRequired,\n            }),\n        ).isRequired,       \n    };\n\n    state = {\n        showLikers: false,\n    }\n\n    _showLikers = () => {\n        this.setState({\n            showLikers: true,\n        });\n    }\n\n    _hideLikers = () => {\n        this.setState({\n            showLikers: false,\n        });\n    }\n\n    _likePost = () => {\n        const {_likePost, id } = this.props;\n\n        _likePost(id);\n    }\n\n    _getLikesByMe = () => {\n        const { currentUserFirstName, currentUserLastName, likes } = this.props;\n\n        return likes.some(({ firstName, lastName }) => {\n            return (\n                `${ firstName } ${ lastName }` === `${ currentUserFirstName } ${ currentUserLastName }`\n            );\n        })\n    }\n\n    _getLikesStyle = () => {\n        const likedByMe = this._getLikesByMe();\n\n        return cx (Styles.icon, {\n            [Styles.liked]: likedByMe,\n        });       \n    }\n\n    _getLikersList = () => {\n        const { showLikers } = this.state;\n        const { likes } = this.props;\n\n        const likesJSX = likes.map(({ firstName, lastName, id }) => (\n            <li key = { id } > { `${ firstName } ${ lastName }` } </li>\n        ));\n\n        return likes.length && showLikers ? <ul>{ likesJSX }</ul> : null;\n    }\n\n    _getLikesDescription = () => {\n        const { likes, currentUserFirstName, currentUserLastName } = this.props;\n        const likedByMe = this._getLikesByMe();\n\n        if ( likes.length === 1 && likedByMe ) {\n            return `${ currentUserFirstName } ${ currentUserLastName }`;\n        } else if ( likes.length === 2 && likedByMe ) {\n            return `You and ${ likes.length - 1} other`;\n        } else if ( likedByMe ) {\n            return `You and ${ likes.length - 1} others`;\n        }\n\n        return likes.length;\n    }\n\n    render () {\n        const likeStyles = this._getLikesStyle();\n        const likersList = this._getLikersList();\n        const likesDescription = this._getLikesDescription();\n\n        return (\n            <section className = { Styles.like }>\n                <span className = { likeStyles } onClick = { this._likePost } >\n                    Like\n                </span>\n                <div>\n                    { likersList }\n                    <span\n                        onMouseEnter = { this._showLikers }\n                        onMouseLeave = { this._hideLikers }\n                    >\n                        { likesDescription }\n                    </span>\n                </div>\n            </section>\n        )    \n    }\n}"]}]}